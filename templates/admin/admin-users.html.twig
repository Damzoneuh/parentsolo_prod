{% extends 'admin/base-admin.html.twig' %}
{% block javascripts %}{{ parent() }}{% endblock %}
{% block title %}{{ parent() }}{% endblock %}

{% block body %}{{ parent() }}
<div class="container-fluid">
    <div class="row">
        <div class=" col-12">
            <div class="border-red rounded-more pad-30 marg-top-10">
                {{ form_start(form) }}
                <div class="form-row">
                    <div class="col">
                        {{ form_label(form.search) }}
                        {{ form_widget(form.search) }}
                    </div>
                    <div class="col">
                        {{ form_label(form.search_by) }}
                        {{ form_widget(form.search_by) }}
                    </div>
                </div>
                <div class="form-row marg-top-10">
                    <div class="col">
                        {{ form_label(form.is_helvetica) }}
                        {{ form_widget(form.is_helvetica) }}
                    </div>
                    <div class="col">
                        {{ form_label(form.status) }}
                        {{ form_widget(form.status) }}
                    </div>
                    <div class="col">
                        {{ form_label(form.sub) }}
                        {{ form_widget(form.sub) }}
                    </div>
                </div>
                <div class="form-row marg-top-10">
                    <div class="col">
                        {{ form_label(form.gender) }}
                        {{ form_widget(form.gender) }}
                    </div>
                    <div class="col">
                        {{ form_label(form.order) }}
                        {{ form_widget(form.order) }}
                    </div>
                </div>
                <div class="form-row marg-top-10">
                    <div class="col">
                        {{ form_widget(form.submit) }}
                    </div>
                </div>
                {{ form_end(form) }}
            </div>
        </div>
        <div class="col">
            <table class="table table-striped table-danger marg-top-10 marg-bottom-10">
                <thead>
                    <tr>
                        <td>
                            email
                        </td>
                        <td>
                            Pseudo
                        </td>
                        <td>
                            Genre
                        </td>
                        <td>
                            Activé
                        </td>
                        <td>
                            Confirmé
                        </td>
                        <td>
                            Abonnement
                        </td>
                        <td>
                            Nom
                        </td>
                        <td>
                            Prénom
                        </td>
                        <td>
                            Téléphone
                        </td>
                        <td>
                            Pays
                        </td>
                    </tr>
                </thead>
                <tbody>
                    {% if users|length > 0 %}
                        {% for user in users %}
                            <tr>
                                <td>
                                    <a href="{{ path('admin_user', {id: user.id}) }}">{{ user.email }}</a>
                                </td>
                                <td>
                                    {{ user.pseudo }}
                                </td>
                                <td>
                                    {{ user.profil.isMan ? 'H' : 'F' }}
                                </td>
                                <td>
                                    {{ user.isValidated ? '<span class="text-success fonr-weight-bold">V</span>' : '<span class="text-danger fonr-weight-bold">X</span>' }}
                                </td>
                                <td>
                                    {{ user.isConfirmed ? '<span class="text-success fonr-weight-bold">V</span>' : '<span class="text-danger fonr-weight-bold">X</span>' }}
                                </td>
                                <td>
                                    {{ user.subscribe ? user.subscribe.deadline|date('d/m/Y') : '' }}
                                </td>
                                <td>
                                    {{ user.name }}
                                </td>
                                <td>
                                    {{ user.firstName }}
                                </td>
                                <td>
                                    {{ user.phone }}
                                </td>
                                <td>
                                    {{ user.country }}
                                </td>
                            </tr>
                        {% endfor %}
                    {% endif %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}